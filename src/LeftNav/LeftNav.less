@import (reference) "../less/utilities";

.LeftNav {
  .flexbox;
  .shade(color, @primary_blue, 2);
  background: @neutral_off_white;
  user-select: none;
}

.LeftNav--topnav,
.LeftNav--subnav {
  .animateWidth;
  .list-reset;
  overflow: hidden;
  width: 12rem;
  box-sizing: border-box;
  .border--right--s(@neutral_silver)
}

.LeftNav--subnav {
  .shade(background, @neutral_off_white, .15);
  color: @neutral_black;
  height: 100%;
}

.NavLink {
  font: inherit;
  background: inherit;
  /* stylelint-disable-next-line */
  color: inherit;
  .flexbox;
  width: 100%;
  .items--center;
  .padding--left--m;
  .padding--right--xl;
  .padding--y--m;
  .text--decoration-none;
  border: none;
  outline: none;
  .border--bottom--s(@neutral_silver);
  position: relative; // Enables z-index to work
  cursor: pointer;

  &:visited, &:active {
    .shade(color, @primary_blue, 2);
  }
}

.NavLink--icon {
  .padding--right--s;
  height: @size_l;
}

.NavLink--label {
  .animateOpacity;
  white-space: nowrap;
  text-overflow: ellipsis;
  opacity: 1;
}

.LeftNav--subnav .NavLink {
  .padding--left--s;
  .padding--right--l;
}

.NavLink--selected {
  .text--semi-bold;
  .tint(background, @primary_blue, 6.15);
  .shade(color, @primary_blue, 3);
}

.right-arrow {
  background-image: url("./right-arrow.svg");
  background-repeat: no-repeat;
  background-position: right @size_xs center;
}

.NavGroup {
  .right-arrow;
}

.NavGroup--open {
  // In order to have a background image (right arrow) and a background color
  // simultaneously, they both must be written in the same CSS rule and the
  // image must come second.
  .shade(background, @neutral_off_white, .15);
  .shade(color, @primary_blue, 3);
  .right-arrow;
}

.NavLink:hover, .NavLink:focus {
  box-shadow: inset @borderWidthL 0 @primary_blue; // blue bar on left
  .zIndex--2; // For subnav links, ensure this goes over the shadow from the topnav
  text-decoration: none;
}

.NavGroup--open,
.NavLink--selected,
.NavGroup--open:hover,
.NavLink--selected:hover {
  box-shadow: inset @borderWidthL 0 @primary_blue; // blue bar on left
  .zIndex--2; // For subnav links, ensure this goes over the shadow from the topnav
}

.LeftNav--collapsed {
  width: 4rem;

  .NavLink {
    .padding--right--s;
  }

  .NavLink--label {
    opacity: 0;
  }
}

.animateWidth {
  .timingSlowly;
  .transition-timing-function(@motionSmooth);
  transition-propery: width;
}

.animateOpacity {
  .delayMoment;
  .timingPromptly;
  .transition-timing-function(@motionSnappy);
  transition-property: opacity;
}

.LeftNav--drawer-anim-enter {
  width: 0;
  .animateWidth
}

.LeftNav--drawer-anim-enter.LeftNav--drawer-anim-enter-active {
  width: 12rem;
}

.LeftNav--drawer-anim-leave.LeftNav--drawer-anim-leave-active {
  width: 0;
}
